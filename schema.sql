create table
  public.users (
    id integer generated by default as identity not null,
    email text not null,
    constraint tables_pkey primary key (id),
    constraint valid_email check (
      (
        email ~* '^[A-Za-z0-9._+%-]+@[A-Za-z0-9.-]+[.][A-Za-z]+$'::text
      )
    )
  ) tablespace pg_default;

create table
  public.departments (
    name text not null,
    prefix text not null,
    constraint departments_pkey primary key (prefix)
  ) tablespace pg_default;

create table
  public.courses (
    id integer generated by default as identity not null,
    name text not null,
    prefix text not null,
    number smallint not null,
    description text not null,
    constraint courses_pkey primary key (id),
    constraint course_unique unique (prefix, number),
    constraint courses_prefix_fkey foreign key (prefix) references departments (prefix)
  ) tablespace pg_default;
  
create table
  public.course_terms (
    course_id integer not null,
    term text not null,
    constraint course_terms_pkey primary key (course_id, term),
    constraint course_terms_course_id_fkey foreign key (course_id) references courses (id)
  ) tablespace pg_default;